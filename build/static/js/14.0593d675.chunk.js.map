{"version":3,"sources":["pages/Farming/Main.js","pages/Farming/index.js"],"names":["Main","Component","render","id","className","window","web3","utils","fromWei","this","props","aufTokenBalance","stakingBalance","aufNFTBalance","Button","secondary","type","onClick","event","preventDefault","approveTokens","onSubmit","amount","stakeTokens","unstakeTokens","App","loadWeb3","loadBlockchainData","accounts","eth","getAccounts","setState","account","networkId","net","getId","aufTokenData","AufToken","networks","aufToken","Contract","abi","address","methods","balanceOf","state","call","toString","alert","aufNFTData","AufNFT","aufNFT","aufFarmingData","AufFarming","aufFarming","loading","ethereum","Web3","enable","currentProvider","account_","approve","send","from","on","hash","constructor","super","location","reload","content","ethaddress1","toaddress1","substr","etheraddress1","name","fallback","Stars","Input2","placeholder","pattern","style","width","disabled","to"],"mappings":"2h+QAOA,MAAMA,UAAaC,YAEjBC,SAEE,OACE,sBAAKC,GAAG,UAAR,UAEN,wBAAOC,UAAU,oBAAjB,8BAAuDC,OAAOC,KAAKC,MAAMC,QAAQC,KAAKC,MAAMC,gBAAiB,SAA7G,YAGA,wBAAOP,UAAU,oBAAjB,8BAAuDC,OAAOC,KAAKC,MAAMC,QAAQC,KAAKC,MAAME,eAAgB,SAA5G,YAGA,wBAAOR,UAAU,oBAAjB,kCAA2DK,KAAKC,MAAMG,cAAtE,cAGA,qBAAKT,UAAU,qBAAf,SAIA,sBAAKA,UAAU,qBAAf,UACgB,uBAAOA,UAAU,qBAAjB,+BACA,qBAAKA,UAAU,uBAIjB,cAACU,EAAA,EAAD,CACIC,WAAS,EACTC,KAAK,SACLZ,UAAU,sBACVa,QAAUC,IACRA,EAAMC,iBACNV,KAAKC,MAAMU,iBANjB,0BAiBd,sBAAKhB,UAAU,qBAAf,UACgB,uBAAOA,UAAU,qBAAjB,mCACA,qBAAKA,UAAU,uBACf,sBAAMA,UAAU,mBAAmBiB,SAAWH,IAE9C,IAAII,EADJJ,EAAMC,iBAENG,EAAS,0BAETb,KAAKC,MAAMa,YAFF,4BAHT,SASA,cAACT,EAAA,EAAD,CACEC,WAAS,EACTC,KAAK,SACLZ,UAAU,sBAHZ,wBAmBhB,sBAAKA,UAAU,qBAAf,UACgB,uBAAOA,UAAU,qBAAjB,mCACA,qBAAKA,UAAU,uBAIjB,cAACU,EAAA,EAAD,CACIC,WAAS,EACTC,KAAK,SACLZ,UAAU,sBACVa,QAAUC,IACRA,EAAMC,iBACNV,KAAKC,MAAMc,iBANjB,4BAqBCxB,QC/Ff,MAAMyB,UAAYxB,YAGhB,iCACQQ,KAAKiB,iBACLjB,KAAKkB,qBAIb,2BACE,MAAMrB,EAAOD,OAAOC,KAEdsB,QAAiBtB,EAAKuB,IAAIC,cAChCrB,KAAKsB,SAAS,CAAEC,QAASJ,EAAS,KAElC,MAAMK,QAAkB3B,EAAKuB,IAAIK,IAAIC,QAI/BC,EAAeC,EAASC,SAASL,GACvC,GAAGG,EAAc,CACf,MAAMG,EAAW,IAAIjC,EAAKuB,IAAIW,SAASH,EAASI,IAAKL,EAAaM,SAClEjC,KAAKsB,SAAS,CAAEQ,aAChB,IAAI5B,QAAwB4B,EAASI,QAAQC,UAAUnC,KAAKoC,MAAMb,SAASc,OAC3ErC,KAAKsB,SAAS,CAAEpB,gBAAiBA,EAAgBoC,kBAEjD1C,OAAO2C,MAAM,uDAIX,MAAMC,EAAaC,EAAOZ,SAASL,GACnC,GAAGgB,EAAY,CACb,MAAME,EAAS,IAAI7C,EAAKuB,IAAIW,SAASU,EAAOT,IAAKQ,EAAWP,SAC5DjC,KAAKsB,SAAS,CAAEoB,WAChB,IAAItC,QAAsBsC,EAAOR,QAAQC,UAAUnC,KAAKoC,MAAMb,SAASc,OACvErC,KAAKsB,SAAS,CAAElB,cAAeA,EAAckC,kBAE7C1C,OAAO2C,MAAM,qDAInB,MAAMI,EAAiBC,EAAWf,SAASL,GAC3C,GAAGmB,EAAgB,CACjB,MAAME,EAAa,IAAIhD,EAAKuB,IAAIW,SAASa,EAAWZ,IAAKW,EAAeV,SACxEjC,KAAKsB,SAAS,CAAEuB,eAChB,IAAI1C,QAAuB0C,EAAWX,QAAQ/B,eAAeH,KAAKoC,MAAMb,SAASc,OACjFrC,KAAKsB,SAAS,CAAEnB,eAAgBA,EAAemC,kBAE/C1C,OAAO2C,MAAM,yDAKfvC,KAAKsB,SAAS,CAAEwB,SAAS,IAG3B,iBACMlD,OAAOmD,UACTnD,OAAOC,KAAO,IAAImD,IAAKpD,OAAOmD,gBACxBnD,OAAOmD,SAASE,UAEfrD,OAAOC,KACdD,OAAOC,KAAO,IAAImD,IAAKpD,OAAOC,KAAKqD,iBAGnCtD,OAAO2C,MAAM,uEAcjB,sBAEE,MAAM1C,EAAOD,OAAOC,KAGdsD,SADiBtD,EAAKuB,IAAIC,eACN,GAEpBS,EAAW,IAAIjC,EAAKuB,IAAIW,SAASH,EAASI,IAAK,oDAC/CF,EAASI,QAAQkB,QAAQ,6CAA8C,8BAA8BC,KAAK,CAAEC,KAAMH,IAAYI,GAAG,mBAAoBC,QAc7JC,YAAYxD,GACVyD,MAAMzD,GADW,KA/BnBa,YAAeD,IACbb,KAAKsB,SAAS,CAAEwB,SAAS,IACvB9C,KAAKoC,MAAMS,WAAWX,QAAQpB,YAAYD,GAAQwC,KAAK,CAAEC,KAAMtD,KAAKoC,MAAMb,UAAWgC,GAAG,mBAAoBC,IAC1GxD,KAAKsB,SAAS,CAAEwB,SAAS,IACzBlD,OAAO+D,SAASC,aA2BH,KARnB7C,cAAgB,KACdf,KAAKsB,SAAS,CAAEwB,SAAS,IACzB9C,KAAKoC,MAAMS,WAAWX,QAAQnB,gBAAgBsC,KAAK,CAAEC,KAAMtD,KAAKoC,MAAMb,UAAWgC,GAAG,mBAAoBC,IACtGxD,KAAKsB,SAAS,CAAEwB,SAAS,IACzBlD,OAAO+D,SAASC,aAMlB5D,KAAKoC,MAAQ,CACXb,QAAS,MACTmB,OAAQ,GACRZ,SAAU,GACVe,WAAY,GACZzC,cAAe,IACfF,gBAAiB,IACjBC,eAAgB,IAChB2C,SAAS,GAIbrD,SACE,IAAIoE,EACAC,EAAc9D,KAAKoC,MAAMb,QACzBwC,EAAaD,EAAYE,OAAO,EAAG,GAAK,MAAQF,EAAYE,OAAO,GAAI,GAgB3E,OAdEH,EADC7D,KAAKoC,MAAMU,QACF,mBAAGpD,GAAG,SAASC,UAAU,cAAzB,wBAGA,cAAC,EAAD,CACRO,gBAAiBF,KAAKoC,MAAMlC,gBAC5BE,cAAeJ,KAAKoC,MAAMhC,cAC1BD,eAAgBH,KAAKoC,MAAMjC,eAC3BW,YAAad,KAAKc,YAClBH,cAAeX,KAAKW,cACpBI,cAAef,KAAKe,cACpBkD,cAAejE,KAAKoC,MAAMb,UAK5B,0BAAS5B,UAAU,OAAnB,UACA,eAAC,IAAD,WACE,gDACA,sBACEuE,KAAK,cACLL,QAAQ,uJAIZ,cAAC,WAAD,CAAUM,SAAU,KAApB,SACI,cAACC,EAAA,EAAD,MAMA,sBAAKzE,UAAU,gBAAf,UACA,cAAC0E,EAAA,EAAD,CACI1E,UAAU,kBACV2E,YAAaP,EACbQ,QAAQ,QACRC,MAAO,CAAEC,MAAO,SAChBC,UAAY,IAGfb,KAID,cAAC,IAAD,CAAMc,GAAG,QAAT,SACA,cAACtE,EAAA,EAAD,CACEV,UAAU,mBADZ,wBAeKqB","file":"static/js/14.0593d675.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport auficon from './auficon.png';\nimport './index.css';\n\nimport Button from 'components/Button';\n\n\nclass Main extends Component {\n  \n  render() {\n    \n    return (\n      <div id=\"content\">\n\n<label className=\"menu__item-label_\">Account balance: {window.web3.utils.fromWei(this.props.aufTokenBalance, 'Ether')} AMONG\n</label>\n\n<label className=\"menu__item-label_\">Staking balance: {window.web3.utils.fromWei(this.props.stakingBalance, 'Ether')} AMONG\n</label>\n\n<label className=\"menu__item-label_\">NFT tickets balance: {this.props.aufNFTBalance} ATICKET\n</label>\n\n<div className=\"menu__item-content\">\n                \n               \n            \n<div className=\"menu__item-content\">\n                <label className=\"menu__item-label__\">1. Approve $AMONG</label>\n                <div className=\"menu__item-divider\" />\n               \n             \n\n              <Button\n                  secondary\n                  type=\"submit\"\n                  className=\"menu__item-button__\"\n                  onClick={(event) => {\n                    event.preventDefault();\n                    this.props.approveTokens();\n                  }}\n                >\n                  approve\n                </Button>\n</div>     \n                \n              \n        \n</div>\n\n<div className=\"menu__item-content\">\n                <label className=\"menu__item-label__\">2. Stake 10,000 AMONG</label>\n                <div className=\"menu__item-divider\" />\n                <form className=\"menu__item-input\" onSubmit={(event) => {\n                event.preventDefault();\n                let amount;\n                amount = \"10000000000000000000000\";\n                \n                this.props.stakeTokens(amount);\n              }}>\n                \n              \n                <Button\n                  secondary\n                  type=\"submit\"\n                  className=\"menu__item-button__\"\n                 \n                >\n                  stake\n                </Button>\n                 \n                \n                </form>\n        \n</div>\n\n\n\n\n\n\n<div className=\"menu__item-content\">\n                <label className=\"menu__item-label__\">3. Unstake all tokens</label>\n                <div className=\"menu__item-divider\" />\n               \n             \n\n              <Button\n                  secondary\n                  type=\"submit\"\n                  className=\"menu__item-button__\"\n                  onClick={(event) => {\n                    event.preventDefault();\n                    this.props.unstakeTokens();\n                  }}\n                >\n                  unstake\n                </Button>\n</div>\n        \n\n     \n\n      </div>\n    );\n  }\n}\n\nexport default Main;\n","import React, { Component, Suspense } from 'react';\nimport Web3 from 'web3';\nimport AufToken from '../../abis/AufToken.json';\nimport AufFarming from '../../abis/AufFarming.json';\nimport AufNFT from '../../abis/AufNFT.json';\nimport Button from 'components/Button';\nimport { Helmet } from 'react-helmet-async';\nimport { Link } from 'react-router-dom';\nimport Input2 from 'components/Input2';\nimport Stars from 'components/Stars';\nimport Main from './Main';\nimport './index.css';\n\nclass App extends Component {\n\n \n  async componentWillMount() {\n    await this.loadWeb3();\n    await this.loadBlockchainData();\n    const isApproved =  false;\n  }\n\n  async loadBlockchainData() {\n    const web3 = window.web3;\n\n    const accounts = await web3.eth.getAccounts();\n    this.setState({ account: accounts[0] });\n\n    const networkId = await web3.eth.net.getId();\n\n    \n    // Load AufToken\n    const aufTokenData = AufToken.networks[networkId];\n    if(aufTokenData) {\n      const aufToken = new web3.eth.Contract(AufToken.abi, aufTokenData.address);\n      this.setState({ aufToken });\n      let aufTokenBalance = await aufToken.methods.balanceOf(this.state.account).call();\n      this.setState({ aufTokenBalance: aufTokenBalance.toString() });\n    } else {\n      window.alert('AufToken contract not deployed to detected network.');\n    }\n\n        // Load AufNFT\n        const aufNFTData = AufNFT.networks[networkId];\n        if(aufNFTData) {\n          const aufNFT = new web3.eth.Contract(AufNFT.abi, aufNFTData.address);\n          this.setState({ aufNFT });\n          let aufNFTBalance = await aufNFT.methods.balanceOf(this.state.account).call();\n          this.setState({ aufNFTBalance: aufNFTBalance.toString() });\n        } else {\n          window.alert('AufNFT contract not deployed to detected network.');\n        }\n\n    // Load AufStaking\n    const aufFarmingData = AufFarming.networks[networkId];\n    if(aufFarmingData) {\n      const aufFarming = new web3.eth.Contract(AufFarming.abi, aufFarmingData.address);\n      this.setState({ aufFarming });\n      let stakingBalance = await aufFarming.methods.stakingBalance(this.state.account).call();\n      this.setState({ stakingBalance: stakingBalance.toString() });\n    } else {\n      window.alert('AufFarming contract not deployed to detected network.');\n    }\n\n\n\n    this.setState({ loading: false });\n  }\n\n  async loadWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    }\n    else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider);\n    }\n    else {\n      window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!');\n    }\n  }\n  \n\n  stakeTokens = (amount) => {\n    this.setState({ loading: true });\n      this.state.aufFarming.methods.stakeTokens(amount).send({ from: this.state.account }).on('transactionHash', (hash) => {\n        this.setState({ loading: false });\n        window.location.reload(); \n   \n    });\n  }\n\n  async approveTokens() {\n   \n    const web3 = window.web3;\n\n    const accounts = await web3.eth.getAccounts();\n    const account_ = accounts[0];\n    \n    const aufToken = new web3.eth.Contract(AufToken.abi, \"0xF841D292c1141cbF1460A1E2010916565a010cc8\");\n    await aufToken.methods.approve(\"0xBd7f800B7E54D3f78043A10d53Cc26FC42A3c697\", \"21000000000000000000000000\").send({ from: account_ }).on('transactionHash', (hash) => {\n\n    });\n   \n  }\n\n  unstakeTokens = () => {\n    this.setState({ loading: true });\n    this.state.aufFarming.methods.unstakeTokens().send({ from: this.state.account }).on('transactionHash', (hash) => {\n      this.setState({ loading: false });\n      window.location.reload(); \n    });\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      account: '0x0',\n      aufNFT: {},\n      aufToken: {},\n      aufFarming: {},\n      aufNFTBalance: '0',\n      aufTokenBalance: '0',\n      stakingBalance: '0',\n      loading: true\n    };\n  }\n\n  render() {\n    let content;\n    let ethaddress1 = this.state.account;\n    let toaddress1 = ethaddress1.substr(0, 6) + '...' + ethaddress1.substr(38, 4);\n    if(this.state.loading) {\n      content = <p id=\"loader\" className=\"text-center\">Loading...</p>;\n    } else {\n      \n      content = <Main\n        aufTokenBalance={this.state.aufTokenBalance}\n        aufNFTBalance={this.state.aufNFTBalance}\n        stakingBalance={this.state.stakingBalance}\n        stakeTokens={this.stakeTokens}\n        approveTokens={this.approveTokens}\n        unstakeTokens={this.unstakeTokens}\n        etheraddress1={this.state.account}\n      />;\n    }\n\n    return (\n      <section className=\"menu\">\n      <Helmet>\n        <title>NFT Farming</title>\n        <meta\n          name=\"description\"\n          content=\"Blockchain ready recreation of the popular -Among Us- indie game. Powered by Decentralized Finance, non-custodial staking and Farming protocols\"\n        />\n      </Helmet>\n  \n      <Suspense fallback={null}>\n          <Stars />\n        </Suspense>\n\n    {/* <p className=\"menu__version\">Balance: {this.state.aufTokenBalance / 1000000000000000000} AMONG </p> */}\n   \n        \n          <div className=\"menu__content\">\n          <Input2\n              className=\"menu__username3\"\n              placeholder={toaddress1}\n              pattern=\".{1,}\"\n              style={{ width: '500px' }}\n              disabled = {true}\n            \n            /> \n          {content}\n        \n       \n          </div>\n          <Link to=\"/menu\">\n          <Button\n            className=\"menu__nav-button\"\n            // onClick={backMenu}\n          >\n            back\n          </Button>\n          </Link>\n        \n    \n    \n    </section>\n    );\n  }\n}\n\nexport default App;\n"],"sourceRoot":""}